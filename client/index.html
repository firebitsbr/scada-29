<body>
 {{> scada}}
</body>

<template name='scada'>
 {{> swYesNo name='control' variable='control'}}
 {{> swBasicPerecentage name='input1' variable= 'input1' height=20 width=200}}
 {{> swVelocimeter name='input2' variable='input1'}}
 {{> grafica}}
</template>

<template name='swYesNo'>
    {{#with dataValue this.variable}}
        <div class=swidget name={{this.name}} >
            <svg height=10 width=10>
                <circle variable={{this.variable}} cx=5 cy=5 r=5 fill={{getColor this.variable}} />
            </svg>
        </div>
    {{/with}}
</template>

<template name='swBasicPerecentage'>
{{#with dataValue this.variable}}
    <div class=swidget name="{{this.name}}">
        <svg height={{this.height}} width={{this.width}}>
            <rect x1=0 y1=0 height={{this.height}} width="{{getWidth this.value}}" fill={{getColor this.value}} />
            <text x={{xPosText}} y=15>{{this.value}}</text>
        </svg>
    </div>
{{/with}}
</template>

<template name='swVelocimeter'>
{{#with dataValue this.variable}}
    <div class=swidget name="{{this.name}}">
        <svg height="50" width="50">
            <circle cx="25" cy="25" r="25" fill={{getColor}} />
            <text x=25 y=25>{{this.value}}</text>
            
            <!-- -->
            <g transform='translate(25,25) scale(25,25) rotate({{getAlfa}})'>
          <line x1="0.000" y1="0.000" x2="1.000" y2="0.000" stroke="#000000" stroke-width="0.050" />
<path stroke="none" fill="#000000" stroke-width="0.050" d="M 1.000,0.000 C 1.000,0.075 0.925,0.150 0.850,0.150 C 0.775,0.150 0.700,0.075 0.700,0.000 C 0.700,-0.075 0.775,-0.150 0.850,-0.150 C 0.925,-0.150 1.000,-0.075 1.000,0.000 "/>
<path stroke="#000000" fill="none" stroke-width="0.050"  d="M 1.000,0.000 C 1.000,0.075 0.925,0.150 0.850,0.150 C 0.775,0.150 0.700,0.075 0.700,0.000 C 0.700,-0.075 0.775,-0.150 0.850,-0.150 C 0.925,-0.150 1.000,-0.075 1.000,0.000 "/>
            <!-- -->
            </g>
        </svg>
      </div>
{{/with}}
</template>

<template name='grafica'>
    {{ayuda}}
    <svg id='grafica'></svg>
</template>